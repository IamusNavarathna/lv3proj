class Button from ActionObject

    gfx = "sprites/button.anim"
    onPush = nil
    
    function OnAction(who, state)
        if not state: return
        tile = self.GetSprite()
        tile.name = "use"
        Sound.Play("button.ogg")
        if isCallable(self.onPush)
            self.onPush(who, self)
        else
            > "Button(", self.id, ")  was pushed by ", who, " (no action)"
        end
    end
    
    function SetOnPush(func): self.onPush = func
end

export Button
